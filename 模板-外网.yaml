# å¿…è¯»ï¼ï¼ï¼
# æ³¨æ„è§„åˆ™åœ¨æ»¡è¶³è‡ªå·±éœ€æ±‚æƒ…å†µä¸‹ï¼Œå°½é‡åšåˆ°ç²¾ç®€ï¼Œä¸è¦è¿‡åº¦å¤æ‚ï¼Œä»¥å…å½±å“æ€§èƒ½ã€‚
# è·‘è£¸æ ¸ç”¨æˆ·è¯·è‡ªè¡Œå»æ‰ä¸‹æ–¹æ§åˆ¶é¢æ¿æ¨¡å—çš„æ³¨é‡Šã€‚
# æœºåœºè®¢é˜…
proxy-providers:
  Airport1:
    url: "æœºåœºè®¢é˜…"
    type: http
    interval: 86400
    path: ./providers/proxy-provider_Airport1.yaml
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    proxy: DIRECT

# èŠ‚ç‚¹ä¿¡æ¯
proxies:
  - name: wireguard
    type: wireguard
    ip: 10.253.0.2
    private-key: 7rCvVz8x8wB2Pnf0AmnO8wesCGZq8EnGLgJm1svCkBY=
    server: wireguard.example.com
    port: 51820
    public-key: nzUGML/20x/uoJyNuFumpdIL0umxhzHF6onkYZrVi1w=
    allowed-ips:
    - 0.0.0.0/0
    udp: true
  
# å…¨å±€é…ç½® 
mixed-port: 7890
allow-lan: true
ipv6: true
unified-delay: true
log-level: silent
profile:
  store-selected: true

# DNSæ¨¡å—
dns:
  enable: true
  cache-algorithm: arc
  prefer-h3: true
  use-system-hosts: true
  listen: :53
  ipv6: true
  enhanced-mode: normal
  default-nameserver:
  - 119.29.29.29
  - 182.254.116.116
  - 180.76.76.76
  - 114.114.114.114
  nameserver:
  - https://doh.pub/dns-query
  - https://dns.alidns.com/dns-query
  fallback:
  - https://cloudflare-dns.com/dns-query
  - https://dns.google/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
    - 240.0.0.0/4
    - 2001::1/128
    - ::1/128
    - 221.228.32.13/32

# å…¥ç«™
tun:
  enable: false
  stack: gvisor
  auto-route: true
  strict-route: false
  auto-detect-interface: true
  dns-hijack:
  - any:53
external-controller-cors:
  allow-private-network: true
  allow-origins:
  - '*'
external-controller-pipe: \\.\pipe\verge-mihomo

# å‡ºç«™ç­–ç•¥ã€‚
proxy-groups:
  - {name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, include-all: true, proxies: [â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿], exclude-filter: "wireguard"}
  - {name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, type: url-test, include-all: true, tolerance: 50, interval: 300, exclude-filter: "wireguard"}
  - {name: ğŸŒ å›½å¤–åª’ä½“, type: select, include-all: true, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿], exclude-filter: "wireguard"}
  - {name: ğŸ“² ç”µæŠ¥ä¿¡æ¯, type: select, include-all: true, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿], exclude-filter: "wireguard"}
  - {name: â“‚ï¸ å¾®è½¯æœåŠ¡, type: select, include-all: true, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©], exclude-filter: "wireguard"}
  - {name: ğŸ è‹¹æœæœåŠ¡, type: select, include-all: true, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿], exclude-filter: "wireguard"}
  - {name: ğŸ¯ å…¨çƒç›´è¿, type: select, proxies: [DIRECT]}
  - {name: ğŸ›‘ å…¨çƒæ‹¦æˆª, type: select, proxies: [REJECT, DIRECT]}
  - {name: ğŸƒ åº”ç”¨å‡€åŒ–, type: select, proxies: [REJECT, DIRECT]}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, type: select, include-all: true, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿, â™»ï¸ è‡ªåŠ¨é€‰æ‹©], exclude-filter: "wireguard"}
  - {name: ğŸ¯ wireguard, type: select, proxies: [wireguard]}

# è§„åˆ™åŒ¹é…
rules:
  - IP-CIDR,192.168.1.0/24,ğŸ¯ wireguard,no-resolve
  - RULE-SET,direct,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,proxy,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,LocalAreaNetwork,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,UnBan,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,BanAD,ğŸ›‘ å…¨çƒæ‹¦æˆª
  - RULE-SET,BanProgramAD,ğŸƒ åº”ç”¨å‡€åŒ–
  - RULE-SET,GoogleCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,SteamCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,Telegram,ğŸ“² ç”µæŠ¥ä¿¡æ¯
  - RULE-SET,ProxyMedia,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,ProxyLite,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,ChinaDomain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaCompanyIp,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Download,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,PrivateTracker,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

rule-providers:
  direct:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/cqhtyi/Clash/refs/heads/main/direct.list"
    path: ./providers/rule-provider_direct.yaml
    interval: 86400
  proxy:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/cqhtyi/Clash/refs/heads/main/proxy.list"
    path: ./providers/rule-provider_proxy.yaml
    interval: 86400
  LocalAreaNetwork:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list"
    path: ./providers/rule-provider_LocalAreaNetwork.yaml
    interval: 86400

  UnBan:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list"
    path: ./providers/rule-provider_UnBan.yaml
    interval: 86400

  BanAD:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list"
    path: ./providers/rule-provider_BanAD.yaml
    interval: 86400

  BanProgramAD:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list"
    path: ./providers/rule-provider_BanProgramAD.yaml
    interval: 86400

  GoogleCN:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list"
    path: ./providers/rule-provider_GoogleCN.yaml
    interval: 86400

  SteamCN:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list"
    path: ./providers/rule-provider_SteamCN.yaml
    interval: 86400

  Microsoft:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list"
    path: ./providers/rule-provider_Microsoft.yaml
    interval: 86400

  Apple:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list"
    path: ./providers/rule-provider_Apple.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list"
    path: ./providers/rule-provider_Telegram.yaml
    interval: 86400

  ProxyMedia:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list"
    path: ./providers/rule-provider_ProxyMedia.yaml
    interval: 86400

  ProxyLite:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyLite.list"
    path: ./providers/rule-provider_ProxyLite.yaml
    interval: 86400

  ChinaDomain:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list"
    path: ./providers/rule-provider_ChinaDomain.yaml
    interval: 86400
    
  ChinaCompanyIp:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list"
    path: ./providers/rule-provider_ChinaCompanyIp.yaml
    interval: 86400

  Download:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list"
    path: ./providers/rule-provider_Download.yaml
    interval: 86400

  PrivateTracker:
    type: http
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/WPF0414/ACL4SSR/master/Clash/Ruleset/PrivateTracker.list"
    path: ./providers/rule-provider_PrivateTracker.yaml
    interval: 86400
